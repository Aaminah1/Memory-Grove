<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Memory Grove — leafy stones</title>
<style>
  :root{
    --bg:#0c0f14; --panel:#0f131a; --ink:#e9edf5; --muted:#9aa2b0;
    --stone:#2b2f3a; --stone-2:#242833; --edge:#3a4050;
    --green:#6de3a7; --yellow:#ffd86b; --red:#ff6b6b;
  }
  body{margin:0; color:var(--ink); background:radial-gradient(1200px 520px at 50% 120%, #0a0c12 20%, var(--bg) 60%) fixed;
       font:15px/1.55 ui-sans-serif, system-ui, Segoe UI, Roboto, sans-serif;}
  header{padding:12px 18px; border-bottom:1px solid #151a25; background:#0b0e14d0; backdrop-filter:blur(4px); position:sticky; top:0}
  main{max-width:1080px; margin:18px auto 60px; padding:0 18px;}
  h1{font-size:1.1rem; margin:8px 0 14px; color:#d9deea}
  .board{background:linear-gradient(#10141c,#0c0f14); border:1px solid #171b26; border-radius:16px; padding:18px; box-shadow:inset 0 0 60px #090b10}
  .grid{display:grid; gap:32px; grid-template-columns:repeat(auto-fill, minmax(150px, 1fr));}

  /* stone */
  .stone{
    --w:150px; --h:180px;
    position:relative; width:100%; min-width:var(--w); height:var(--h);
    border-radius:28px 28px 10px 10px; background:linear-gradient(#3e4557 0 10%, var(--stone) 30%, var(--stone-2) 100%);
    border:1px solid var(--edge); box-shadow:inset 0 1px 0 #535c73, 0 16px 26px #0a0e16;
    cursor:pointer; isolation:isolate; overflow:visible;
    transition:transform .18s ease, border-color .18s ease, box-shadow .18s ease;
  }
  .stone:hover{ transform:translateY(-2px); border-color:#57607a; box-shadow:inset 0 1px 0 #5f6881, 0 20px 30px #0b101b; }
  .stone::after{ /* small plinth */
    content:""; position:absolute; left:50%; bottom:-10px; translate:-50% 0; width:70%; height:12px;
    border-radius:6px; background:linear-gradient(#2a2d38,#202430); border:1px solid #343a49; box-shadow:0 6px 10px #0b0e15;
  }

  /* prompt plaque */
  .plaque{
    position:absolute; left:10px; right:10px; bottom:10px; border-radius:8px;
    background:linear-gradient(#171b26,#111622); border:1px solid #272e3d; color:#e8edf7;
    padding:6px 8px; font-size:.8rem; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }

  /* faint etched lines */
  .etch{position:absolute; inset:48px 12px 44px; border-radius:10px;
        background:repeating-linear-gradient(180deg, #2a2e3a 0 15px, #262a35 15px 30px);
        mask:linear-gradient(transparent 0 12%, black 22% 82%, transparent); opacity:.9}

  /* GREEN — top leaves (several) */
  .leaves{ position:absolute; left:50%; top:-10px; translate:-50% 0; width:120px; height:90px; pointer-events:none; }
  .leaf{
    position:absolute; width:18px; height:58px; border-radius:18px; background:var(--green);
    transform-origin:bottom center; filter:drop-shadow(0 0 6px rgba(109,227,167,.45));
    animation:leaf-breathe 5s ease-in-out infinite;
  }
  .leaf:nth-child(1){ left:12px; height:52px; transform:rotate(-16deg) }
  .leaf:nth-child(2){ left:30px; height:70px; transform:rotate(-6deg); animation-delay:.2s }
  .leaf:nth-child(3){ left:54px; height:64px; transform:rotate(8deg); animation-delay:.4s }
  .leaf:nth-child(4){ left:78px; height:58px; transform:rotate(18deg); animation-delay:.1s }
  .leaf:nth-child(5){ left:44px; height:46px; transform:rotate(-28deg); animation-delay:.6s }
  /* little leaf tips */
  .leaf::after{
    content:""; position:absolute; top:-10px; left:50%; translate:-50% 0;
    width:16px; height:16px; background:var(--green); border-radius:16px 16px 12px 12px / 16px 16px 10px 10px;
  }
  @keyframes leaf-breathe{0%,100%{transform:translateY(0) rotate(var(--r,0))}50%{transform:translateY(-3px) rotate(calc(var(--r,0) * 1deg))}}

  /* YELLOW — side branch with heart-ish leaves (right) */
  .branch{ position:absolute; right:-10px; top:48px; width:90px; height:90px; pointer-events:none; }
  .twig{
    position:absolute; right:10px; top:0; width:60px; height:60px;
    border-right:3px solid var(--yellow); border-bottom:3px solid var(--yellow);
    border-radius:0 28px 22px 0; filter:drop-shadow(0 0 7px rgba(255,216,107,.35));
    animation:branch-bob 4.4s ease-in-out infinite;
  }
  @keyframes branch-bob{0%,100%{transform:rotate(0)}50%{transform:rotate(2.2deg)}}
  .heart{
    position:absolute; width:18px; height:16px; transform:rotate(-20deg);
  }
  .heart::before, .heart::after{
    content:""; position:absolute; width:12px; height:18px; background:var(--yellow); border-radius:12px 12px 0 0;
  }
  .heart::before{ left:4px; transform:rotate(-45deg); transform-origin:bottom right; }
  .heart::after { left:2px; transform:rotate(45deg);  transform-origin:bottom left;  }
  .h1{ right:26px; top:-8px } .h2{ right:0; top:20px } .h3{ right:24px; top:38px }

  /* RED — roots dangling from base */
  .roots{ position:absolute; left:12px; right:12px; bottom:-16px; height:40px; pointer-events:none; }
  .root{
    position:absolute; bottom:0; width:3px; background:var(--red); border-radius:3px;
    box-shadow:0 0 6px rgba(255,107,107,.55); animation:root-wiggle 5.6s ease-in-out infinite;
  }
  .root.r1{ left:16px; height:34px; transform:skewX(-6deg) } .root.r2{ left:46px; height:38px } .root.r3{ right:30px; height:30px; transform:skewX(8deg) }
  .root.r4{ left:72px; height:28px } .root.r5{ right:52px; height:34px }
  @keyframes root-wiggle{0%,100%{transform:translateX(0)}50%{transform:translateX(1px)}}

  /* classification tag (tiny) */
  .tag{ position:absolute; right:6px; top:6px; padding:.2rem .5rem; font-size:.68rem; border-radius:999px; color:#0b0e12 }
  .green .tag{ background:var(--green) } .yellow .tag{ background:var(--yellow) } .red .tag{ background:var(--red) }

  /* modal preview */
  .modal{position:fixed; inset:0; background:#0009; display:none; align-items:center; justify-content:center; padding:22px; z-index:20}
  .open{display:flex}
  .sheet{width:min(720px,100%); background:linear-gradient(#111621,#0e121a); border:1px solid #262c3a; border-radius:14px; box-shadow:0 20px 60px #000c}
  .sheet header{padding:12px 16px; border-bottom:1px solid #1f2533}
  .close{position:absolute; right:14px; top:10px; border:1px solid #343a4a; background:#171b25; color:#e1e4eb; border-radius:9px; padding:.38rem .55rem; cursor:pointer}
  .body{padding:14px 16px; display:grid; gap:10px}
  .label{font-size:.78rem; color:var(--muted); text-transform:uppercase; letter-spacing:.08em}
  .card{background:#131824; border:1px solid #293041; border-radius:9px; padding:10px; color:#d6dbe6; font-size:.95rem}
</style>
</head>
<body>
<header>Memory Grove</header>

<main>
  <h1>Your Grove</h1>
  <section class="board">
    <div class="grid" id="grid"></div>
  </section>
</main>

<!-- lightweight modal -->
<div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="mTitle">
  <div class="sheet">
    <header style="position:relative">
      <strong id="mTitle">Ghost Memory</strong>
      <button class="close" id="mClose">Close ✕</button>
    </header>
    <div class="body" id="mBody"></div>
  </div>
</div>

<script>
/* demo stones – swap with your saved seeds */
const seeds = [
  { id:1, class:'green',  prompt:'Ubuntu in practice?',  text:'Ubuntu as mutual personhood…', note:'Resonates.' },
  { id:2, class:'yellow', prompt:'Barakah daily meaning', text:'Kinda like luck…',              note:'Partially right.' },
  { id:3, class:'red',    prompt:'“African time”?',      text:'People are late…',             note:'Harmful framing.' },
  { id:4, class:'green',  prompt:'Talab al-ilm',         text:'Ongoing learning with adab…' },
  { id:5, class:'yellow', prompt:'Griot role',           text:'Musician storyteller…' },
  { id:6, class:'red',    prompt:'Tribalism',            text:'Backwards loyalty…' },
];

const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const mBody = document.getElementById('mBody');
const mClose = document.getElementById('mClose');

seeds.forEach(s => grid.appendChild(makeStone(s)));

function makeStone(s){
  const el = document.createElement('button');
  el.className = `stone ${s.class}`;
  el.type = 'button';
  el.innerHTML = `
    <div class="tag">${s.class.toUpperCase()}</div>
    <div class="etch" aria-hidden="true"></div>
    <div class="plaque" title="${s.prompt}">${s.prompt}</div>

    <!-- GREEN: leafy crown -->
    ${s.class==='green' ? `
      <div class="leaves">
        <div class="leaf" style="--r:-14"></div>
        <div class="leaf" style="--r:-6"></div>
        <div class="leaf" style="--r:8"></div>
        <div class="leaf" style="--r:18"></div>
        <div class="leaf" style="--r:-28"></div>
      </div>` : ''}

    <!-- YELLOW: right branch w/ hearts -->
    ${s.class==='yellow' ? `
      <div class="branch">
        <div class="twig"></div>
        <div class="heart h1"></div>
        <div class="heart h2"></div>
        <div class="heart h3"></div>
      </div>` : ''}

    <!-- RED: dangling roots -->
    ${s.class==='red' ? `
      <div class="roots">
        <div class="root r1"></div><div class="root r2"></div><div class="root r3"></div>
        <div class="root r4"></div><div class="root r5"></div>
      </div>` : ''}
  `;
  el.addEventListener('click', () => openModal(s));
  return el;
}

/* preview modal */
function openModal(seed){
  mBody.innerHTML = `
    <div><div class="label">Prompt</div><div class="card">${esc(seed.prompt)}</div></div>
    <div><div class="label">Ghost reply</div><div class="card">${esc(seed.text || '(none)')}</div></div>
    <div><div class="label">Your note</div><div class="card">${esc(seed.note || '(none)')}</div></div>
    <div><div class="label">Class</div><div class="card">${seed.class.toUpperCase()}</div></div>
  `;
  modal.classList.add('open');
}
mClose.onclick = () => modal.classList.remove('open');
modal.addEventListener('click', e => { if (e.target === modal) modal.classList.remove('open'); });
window.addEventListener('keydown', e => { if (e.key === 'Escape') modal.classList.remove('open'); });

function esc(s=''){ return s.replace(/[&<>"']/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;' }[c])); }
</script>
</body>
</html>
